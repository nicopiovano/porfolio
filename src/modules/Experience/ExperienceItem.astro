---
interface Props {
    experience: {
        date: string
        title: string
        company: string
        usos: string[]
        description: string
        aprendizajes?: string
    }
    techUrls: Record<string, string>
    learningLabel?: string
}

import "./ExperienceItem.astro.css"
const {experience, techUrls, learningLabel = "Aprendizajes:"} = Astro.props
---

<div class="card">
    <time class="date">{experience.date}</time>

    <h3 class="role">{experience.title}</h3>
    <p class="company text-green-800 dark:text-custom-green">{experience.company}</p>

    {experience.usos.length > 0 && (
            <ul class="stack">
                {experience.usos.map((tech) => {
                    const url = techUrls[tech]
                    return url ? (
                        <li>
                            <a 
                                href={url} 
                                target="_blank" 
                                rel="noopener noreferrer"
                                class="hover:opacity-80 transition-opacity"
                            >
                                {tech}
                            </a>
                        </li>
                    ) : (
                        <li>{tech}</li>
                    )
                })}
            </ul>
    )}

    <p class="description">{experience.description}</p>

    {experience.aprendizajes && (
            <div class="learning">
                <span class="learning-icon">ðŸ’¡</span>
                <p>
                    <strong class="text-green-800 dark:text-green-600">{learningLabel}</strong> {experience.aprendizajes}
                </p>
            </div>
    )}
</div>

<script src="./ExperienceItem.astro.js"></script>
